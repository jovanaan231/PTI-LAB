<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Javascript</title>
	<link rel="stylesheet" type="text/css" href="main.css" media="screen" title="no title" charset="utf-8">
	<script>
		var count = 2;
		function onDocumentFinish(){
			var createBy = window.prompt('Who are you ?')
			document.getElementById("efg").innerHTML = 'Create By' + createBy;
			document.getElementById("formSubmit").onsubmit = function(form){
				form.preventDefault();
				let item = {
					name: '',
					address: '',
					number: '',
					category: '',

					isItemValid: function(){
						if(this.name !== '' && this.number !== '' && this.description !== 
						'' && this.category !==''){
							return true;
						}
						return false;
					},
					addToTable: function(){
						const tbody = document.getElementById('tableItem').querySelector('tbody');
						const newRow = document.createElement("tr");
						const nameCol = document.createElement("td");
						nameCol.appendChild(document.createTextNode(this.name));
						cost categoryCol = document.createElement("td");
						categoryCol.appendChild(document.createTextNode(this.category));
						cost numberCol = document.createElement("td");
						numberCol.appendChild(document.createTextNode(this.number));
						cost addressCol = document.createElement("td");
						addressCol.appendChild(document.createTextNode(this.address));
						cost createByCol = document.createElement("td");
						createByCol.appendChild(document.createTextNode(createBy));
						newRow.appendChild(nameCol);
						newRow.appendChild(addressCol);
						newRow.appendChild(numberCol);
						newRow.appendChild(categoryCol);

						tbody.appendChild(newRow);
					},
					fillProperty: function(dataSource){
						item.name = dataSource.target['Name'].value;
						item.address = dataSource.target['Address'].value;
						item.number = dataSource.target['Price'].value;
						item.category = dataSource.target['Category'].value;
					}
				}
				item.fillProperty(form);
				if(item.isItemValid()){
					count = count +1;
					document.getElementById("asd").innerHTML = 'Jumlah Data sekarang :' + count;
					document.getElementById('formSubmit').reset()
					item.addToTable()
				}
				else{
					alert('All fields must not empty')
				}
			}
		}
	</script>
</head>
<body onload="onDocumentFinish()">
	<div class="col-12">
		<div class="col-12 header">
			<h1 id="asd" >Jumlah Data Sekarang : 2</h1>
		</div>
		<div class="col-4">
			
		</div>
		<div class="col-4 center">
			<div class="col-12">
				<table id="tableItem" class="col-12">
					<thead>
						<tr>
							<th>Nama</th>
							<th>Alamat</th>
							<th>Nomor Telepon</th>
							<th>Status Hubungan</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Budi</td>
							<td>Jl. Pencerdasan Bangsa Timur No.2 Kelurahan teluk segara, Bengkulu</td>
							<td>0852837296525</td>
							<td>Banyak Pacar</td>
						</tr>
						<tr>
							<td>Wati</td>
							<td>Jl. Jendral Susirman No.8, RT 2 RW 3 Kelurahan Sumur Meleleh, Tangerang</td>
							<td>08592323526</td>
							<td>Setia Pada Satu</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="col-12">
				<form id="formSubmit" onsubmit="submitItem()">
					<label for="Name">Name</label>
					<input type="text" name="Name" id="Name">
					<label for="Address">Address</label>
					<input type="text" name="Address" id="Address">
					<label for="Price">Phone Number</label>
					<input type="text" name="Price" id="Price">
					<label for="Category">Category</label>
					<select name="Category" id="Category">
						<option value="Setia Pada Satu">Setia Pada Satu</option>
						<option value="Banyak Pacar">Banyak Pacar</option>
						<option value="Jomblo">Jomblo</option>
						<option value="Jomblo Akut">Jomblo Akut</option>
						<option value="Ngaku Punya Pacar">Ngaku Punya Pacar</option>
					</select>
					<input type="submit" id="btnSubmit" value="Submit"/>
				</form>
			</div>
		</div>
		<div class="col-12 footer">
				<h1 id="efg"></h1>
			</div>
	</div>
</body>
</html>